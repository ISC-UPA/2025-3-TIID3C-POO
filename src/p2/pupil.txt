package p2;

import java.time.LocalDate;

public class Alumno {
    int numeroID;
    String nombre;
    LocalDate fechaNacimiento;
    Cuenta cuentaBancaria;

    // Constructor: Inicializa los atributos del alumno
    public Alumno(int numeroID, String nombre, LocalDate fechaNacimiento, Cuenta cuentaBancaria) {
        this.numeroID = numeroID;
        this.nombre = nombre;
        this.fechaNacimiento = fechaNacimiento;
        this.cuentaBancaria = cuentaBancaria;
    }

    // Obtener la edad del alumno
    public int getEdad() {
        return LocalDate.now().getYear() - fechaNacimiento.getYear();
    }

    // Obtener el dia de la semana que nacio, lun, mar, mier . .
    public String diaSemana() {
        // convertir DayOfWeek a String
        String dia = fechaNacimiento.getDayOfWeek().toString();
        return dia;
    }

    public static void main(String[] args) {
        Cuenta cuenta1 = new Cuenta(1, "Juan Perez", 1000.0);
        Cuenta cuenta2 = new Cuenta(2, "Maria Gomez", 2000.0);

        Alumno alumno1 = new Alumno(1, "Juan Perez", LocalDate.of(2000, 1, 1), cuenta1);
        Alumno alumno2 = new Alumno(2, "Maria Gomez", LocalDate.of(2001, 2, 2), cuenta2);

        // arreglo de alumnos
        Alumno[] alumnos = new Alumno[2];
        alumnos[0] = alumno1;
        alumnos[1] = new Alumno(2, "Mary Gomez", LocalDate.of(2005, 10, 27), new Cuenta(3, "MaryGomez", 500.0));

        for (int i = 0; i < alumnos.length; i++) {
            System.out.println("Nombre: " + alumnos[i].nombre +
                    " Fecha de Nacimiento: " + alumnos[i].fechaNacimiento +
                    " Saldo Cuenta: " + alumnos[i].cuentaBancaria.getSaldo() +
                    " Dia de la semana: " + alumnos[i].diaSemana() +
                    " Edad: " + alumnos[i].getEdad());

            // imprimir alineando cada campo de manera que sea tabular
            // %-15s: cadena de caracteres, alineado a la izquierda, 15 caracteres de ancho
            // ahora alineado a la derecha, por ejemplo el saldo %10.2f

            System.out.printf("%-15s %-20s %10s  %-11s %-5s%n",
                    "Nombre", "Fecha Nac.", "Saldo", "Dia Semana", "Edad");
            System.out.printf("%-15s %-20s %10.2f  %-11s %-5d%n",
                    alumnos[i].nombre,
                    alumnos[i].fechaNacimiento,
                    alumnos[i].cuentaBancaria.getSaldo(),
                    alumnos[i].diaSemana(),
                    alumnos[i].getEdad());
        }
        // obtener el alumno de mayor edad usando streams
        Alumno mayor = java.util.Arrays.stream(alumnos)
                .max((a1, a2) -> Integer.compare(a1.getEdad(), a2.getEdad()))
                .orElse(null);
        System.out.println("Alumno de mayor edad: " + mayor.nombre + " Edad: " + mayor.getEdad());

    }

}
